!function(){function e(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(a,i){var o=t.apply(n,r);function s(t){e(o,a,i,s,u,"next",t)}function u(t){e(o,a,i,s,u,"throw",t)}s(void 0)}))}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function a(e,t){return t.get?t.get.call(e):t.value}function i(e,t){return a(e,r(e,t,"get"))}function o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t,n){o(e,t),t.set(e,n)}function u(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function c(e,t,n){return u(e,r(e,t,"set"),n),n}function l(e,t){if(t.set){if(!t.get)throw new TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(n){t.set.call(e,n)},get value(){return t.get.call(e)}}),t.__destrWrapper}if(!t.writable)throw new TypeError("attempted to set read only private field");return t}function f(e,t){return l(e,r(e,t,"update"))}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;Object.create;var w=new WeakMap,v=new WeakMap,y=new WeakMap,g=new WeakMap,d=new WeakMap,b=new WeakMap,k=new WeakMap,m=new WeakMap,j=new(function(){"use strict";function e(){n(this,e),s(this,w,{writable:!0,value:"https://api.nytimes.com/svc/"}),s(this,v,{writable:!0,value:"Y0rMFldQHIhCKPc5jiggZphSD4GPFMzb"}),s(this,y,{writable:!0,value:void 0}),s(this,g,{writable:!0,value:void 0}),s(this,d,{writable:!0,value:void 0}),s(this,b,{writable:!0,value:void 0}),s(this,k,{writable:!0,value:void 0}),s(this,m,{writable:!0,value:{"api-key":i(this,v),q:i(this,g),page:i(this,b),begin_date:i(this,d)}}),c(this,y,7),this.category="all",c(this,b,1),c(this,d,"20120101"),c(this,k,0)}var r,a,o;return r=e,(a=[{key:"getPopularNews",value:function(){var e=this;return t((function(){var t;return p(this,(function(n){switch(n.label){case 0:return[4,fetch(i(e,w)+"mostpopular/v2/viewed/".concat(i(e,y),".json?api-key=").concat(i(e,v)))];case 1:if(!(t=n.sent()).ok)throw new Error(error);return[4,t.json()];case 2:return[2,n.sent().results]}}))}))()}},{key:"getNewsByQuery",value:function(){var e=this;return t((function(){var t,n,r,a,o;return p(this,(function(s){switch(s.label){case 0:return Object.assign(i(e,m),{q:i(e,g),page:i(e,b),begin_date:i(e,d)}),[4,fetch(i(e,w)+"search/v2/articlesearch.json?"+new URLSearchParams(i(e,m)))];case 1:if(!(t=s.sent()).ok)throw new Error(error);return[4,t.json()];case 2:return n=s.sent(),r=n.response,a=r.docs,o=r.meta,e.updatePage(),[2,{docs:a,meta:o}]}}))}))()}},{key:"getNewsByCategories",value:function(){var e=this;return t((function(){var t,n,r,a;return p(this,(function(o){switch(o.label){case 0:return[4,fetch(i(e,w)+"/news/v3/content/inyt/".concat(e.category,".json?")+new URLSearchParams({"api-key":i(e,v),offset:i(e,k)}))];case 1:if(!(t=o.sent()).ok)throw new Error(error);return e.updateOffset(),[4,t.json()];case 2:return n=o.sent(),r=n.results,a=n.num_results,[2,{results:r,num_results:a}]}}))}))()}},{key:"getCategories",value:function(){var e=this;return t((function(){var t;return p(this,(function(n){switch(n.label){case 0:return[4,fetch(i(e,w)+"news/v3/content/section-list.json?api-key=".concat(i(e,v)))];case 1:if(!(t=n.sent()).ok)throw new Error(error);return[4,t.json()];case 2:return[2,n.sent().results]}}))}))()}},{key:"query",get:function(){return i(this,g)},set:function(e){c(this,g,e)}},{key:"updatePage",value:function(){f(this,b).value++}},{key:"resetPage",value:function(){c(this,b,1)}},{key:"date",get:function(){i(this,d)},set:function(e){c(this,d,e)}},{key:"updateOffset",value:function(){c(this,k,i(this,k)+20)}},{key:"resetOffset",value:function(){c(this,k,0)}}])&&h(r.prototype,a),o&&h(r,o),e}());j.getCategories().then(console.log),j.getPopularNews().then(console.log),j.query="apple",j.getNewsByQuery().then(console.log),j.getNewsByCategories().then(console.log)}();
//# sourceMappingURL=index.9a1b1713.js.map
